{% extends 'base.html.twig' %}

{# {% form_theme form 'bootstrap_5_layout.html.twig' %} #}

{% block body %}

<div class="form-group" {{ stimulus_controller('game') }}>
    {{form(form)}}
</div>

{#
{{ form_start(form) }}

<ul class="tags"
    data-index="{{ form.teams|length > 0 ? form.teams|last.vars.name + 1 : 0 }}"
    data-prototype="{{ form_widget(form.teams.vars.prototype)|e('html_attr') }}"
></ul>

<button type="button" class="add_item_link" data-collection-holder-class="tags">Add a tag</button>
{{ form_end(form) }}
#}


{#
{{ form_start(form) }}
    {{ form_row(form.playedAt) }}
    <h2>Teams</h2>
        <ul class="teams"
                data-index="{{ form.teams|length > 0 ? form.teams|last.vars.name + 1 : 0 }}"
                data-prototype="{{ form_widget(form.teams.vars.prototype)|e('html_attr') }}">
                {% for team in form.teams %}
                    
                    {{ form_row(form.score) }}
                       <h3>Players</h3> 
                        <ul class="players"
                            data-index="{{ team.players|length > 0 ? team.players|last.vars.name + 1 : 0 }}"
                            data-prototype="{{ form_widget(team.players.vars.prototype)|e('html_attr') }}">
                            {% for player in form.players %}
                                <li>{{ form_row(player.name) }}</li>
                            {% endfor %}
                        </ul>
                        <button type="button" class="add_item_link" data-collection-holder-class="players">Add a player</button>
                    
                {% endfor %}
        </ul>
        <button type="button" class="add_item_link" data-collection-holder-class="teams">Add a team</button>
        <div class="mt-3 mb-3">
            <button type="submit" class="btn btn-primary">Validate</button>
        </div>
        
{{ form_end(form) }}
#}
{% endblock %}
